import pandas as pd

# create a sample dataframe
df = pd.DataFrame({'name': ['Alice', 'Bob', 'Charlie', 'Dave', 'Eve'],
                   'age': [25, 30, 35, 40, 45],
                   'gender': ['female', 'male', 'male', 'male', 'female']})

# head() method: returns the first n rows of a DataFrame (default n=5)
print(df.head(2))  # prints the first 2 rows of the DataFrame

# tail() method: returns the last n rows of a DataFrame (default n=5)
print(df.tail(3))  # prints the last 3 rows of the DataFrame

# shape attribute: returns a tuple representing the dimensions of a DataFrame
print(df.shape)  # prints (5, 3) since the DataFrame has 5 rows and 3 columns

# info() method: prints a concise summary of a DataFrame, including column data types and non-null values
print("\ninfo()")
df.info()  # prints the data types and non-null counts for each column in the DataFrame

# describe() method: generates descriptive statistics of a DataFrame, including count, mean, standard deviation, min, max, and quartiles
# prints statistics for the numeric columns in the DataFrame
print("\ndescribe()")
print(df.describe(), "\n\n\n")

# isnull() method: returns a DataFrame of Boolean values indicating which values are missing/null
# prints a DataFrame with True/False values indicating if each cell is null
print("\nisnull()")
print(df.isnull())

# dropna() method: drops rows or columns containing missing/null values from a DataFrame
print("\ndropna()")
print(df.dropna())  # prints the original DataFrame since it has no null values

# fillna() method: fills missing/null values in a DataFrame with a specified value or method

df_missing = pd.DataFrame({'name': ['Alice', 'Bob', 'Charlie', 'Dave', 'Eve'],
                           'age': [25, None, 35, None, 45],
                          'gender': ['female', 'male', 'male', 'male', 'female']})
# fills missing values with 0 and prints the updated DataFrame
print("\nfillna()")
print(df_missing.fillna(0))

# groupby() method: groups a DataFrame by one or more columns and performs a function on each group
grouped = df.groupby('gender')
# groups the DataFrame by gender and prints the mean age for each group
print("\ngroupby()")
print(grouped.mean())

# pivot_table() method: creates a spreadsheet-style pivot table based on a DataFrame
pivot = df.pivot_table(index='gender', columns='name', values='age')
# creates a pivot table with gender as rows, name as columns, and age as values
print("\npivot\n", pivot)

# sort_values() method: sorts a DataFrame by one or more columns
print("\nsort_values()")
print(df.sort_values('age'))  # sorts the DataFrame by age in ascending order

# merge() method: merges two DataFrames based on a common column or index
df2 = pd.DataFrame({'name': ['Alice', 'Bob', 'Charlie'],
                    'salary': [50000, 60000, 70000]})
merged = pd.merge(df, df2, on='name')
print("\nmerge()")
print(merged)  # merges the two DataFrames on the 'name' column and prints the result

# join() method: joins two DataFrames based on their indexes or a common column
df3 = pd.DataFrame({'city': ['LA', 'NY', 'SF', 'DC', 'ATL'],
                    'state': ['CA', 'NY', 'CA', 'DC', 'GA']},
                   index=['Alice', 'Bob', 'Charlie', 'Dave', 'Eve'])
joined = df.join(df3)
print("\njoin()")
print(joined)  # joins the two DataFrames on their indexes and prints the result


def add_five(x):
    return x + 5


# applies the add_five function to each value in the 'age' column and prints the result
print("\napply()")
print(df['age'].apply(add_five))

# converts the 'age' column to a string column
df['age'] = df['age'].astype(str)
print("\ndtypes")
print(df.dtypes)  # prints the data types of each column in the DataFrame
